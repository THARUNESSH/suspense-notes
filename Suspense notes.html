<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Divashine Proposal</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    background: black;
    color: gold;
    font-family: 'Arial', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
    touch-action: none;
  }

  .message-container {
    text-align: center;
    font-size: 1.5rem;
    max-width: 80%;
    opacity: 0;
    transition: opacity 2s;
  }

  .message-container.active {
    opacity: 1;
  }

  .rope {
    position: absolute;
    width: 15px;
    height: 100px;
    background: red;
    right: 50px;
    top: 50%;
    transform: translateY(-50%);
    border-radius: 10px;
    cursor: grab;
    touch-action: none;
  }

  .hearts {
    position: absolute;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
  }

  .heart {
    position: absolute;
    color: red;
    font-size: 1rem;
    animation: floatUp 5s linear infinite;
    opacity: 0.8;
  }

  @keyframes floatUp {
    0% { transform: translateY(100%); opacity: 0.8; }
    100% { transform: translateY(-10%); opacity: 0; }
  }

  .buttons {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
  }

  button {
    padding: 10px 20px;
    font-size: 1.2rem;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: transform 0.2s;
  }

  button:hover {
    transform: scale(1.1);
  }

  .yes {
    background: gold;
    color: black;
  }

  .no {
    background: red;
    color: white;
  }

  iframe {
    margin-top: 20px;
    border: none;
  }
</style>
</head>
<body>

<div class="hearts"></div>

<div class="message-container" id="message">
  Hi, Divashine... I'm here for a notes for you. I know I keep you waiting so long. Sorry for that, forgive me.<br><br>
  Pull the rope on the side to get into the suspense notes.
</div>

<div class="rope" id="rope"></div>

<script>
const messages = [
  "Hi, Divashine... I'm here for a notes for you. I know I keep you waiting so long. Sorry for that, forgive me.<br><br>Pull the rope on the side to get into the suspense notes.",
  "I'm here to say you make me comfortable around you. I can be myself.",
  "I don't know about your past love, but everyone is not the same. I have few dreams about how Iâ€™ll take care of my soul partner without breaking their heart.",
  "One day we all gonna die. Why not my soul leave beside on you?",
  "Will you be my soulmate?"
];

let current = 0;
const messageEl = document.getElementById('message');
const rope = document.getElementById('rope');
const heartsContainer = document.querySelector('.hearts');

function showMessage(index) {
  messageEl.innerHTML = messages[index];
  messageEl.classList.add('active');
  if (index === messages.length - 1) {
    rope.style.display = 'none';
    showButtons();
  }
}

function showButtons() {
  const buttonsDiv = document.createElement('div');
  buttonsDiv.classList.add('buttons');
  buttonsDiv.innerHTML = `
    <button class="yes">Yes ðŸ’›</button>
    <button class="no">No ðŸ’”</button>
  `;
  messageEl.appendChild(buttonsDiv);

  buttonsDiv.querySelector('.yes').addEventListener('click', () => {
    messageEl.innerHTML = "There's a song from meâ€¦ would you like to hear it with your heart?<br>";
    const songButton = document.createElement('button');
    songButton.innerText = "Play Song ðŸŽµ";
    songButton.classList.add('yes');
    songButton.style.marginTop = '20px';
    songButton.addEventListener('click', () => {
      const iframe = document.createElement('iframe');
      iframe.width = "300";
      iframe.height = "150";
      iframe.src = "https://www.youtube.com/embed/aZcW8KXPuC4?autoplay=1";
      iframe.allow = "autoplay";
      messageEl.appendChild(iframe);
      songButton.style.display = 'none';
    });
    messageEl.appendChild(songButton);
  });

  buttonsDiv.querySelector('.no').addEventListener('click', () => {
    messageEl.innerHTML = "It's okayâ€¦ you'll always be special âœ¨";
  });
}

// Drag functionality
let isDragging = false;
let startY = 0;

rope.addEventListener('touchstart', e => {
  isDragging = true;
  startY = e.touches[0].clientY;
});

rope.addEventListener('touchmove', e => {
  if (!isDragging) return;
  let touchY = e.touches[0].clientY;
  let diff = touchY - startY;
  if(diff > 0) {
    rope.style.transform = `translateY(calc(-50% + ${diff}px))`;
    messageEl.style.opacity = 0.5 + Math.min(diff/300, 0.5); // brighten effect
  }
});

rope.addEventListener('touchend', e => {
  if (!isDragging) return;
  isDragging = false;
  let touchY = e.changedTouches[0].clientY;
  let diff = touchY - startY;
  rope.style.transform = `translateY(-50%)`;
  if (diff > 100) { // pulled enough
    current++;
    if (current < messages.length) {
      messageEl.classList.remove('active');
      setTimeout(() => showMessage(current), 300);
    }
  }
});

function createHeart() {
  const heart = document.createElement('div');
  heart.classList.add('heart');
  heart.style.left = Math.random() * 100 + '%';
  heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
  heart.innerText = 'â¤ï¸';
  heartsContainer.appendChild(heart);
  setTimeout(() => heartsContainer.removeChild(heart), 5000);
}

setInterval(createHeart, 300);
showMessage(current);
</script>

</body>
</html>
